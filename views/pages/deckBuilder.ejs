<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "utf-8"/>
	<title>Deck Editor</title>
	<link rel="stylesheet" href="/stylesheets/main.css"/>
    <link rel="stylesheet" href="/stylesheets/deckBuilder.css"/>
    <script src="/scripts/deckBuilder.js"></script>
</head>

<body>

    <%- include ("../partials/aio_dld_header.ejs") %>

    <h3>Sort By:</h3>
    <button onclick="changeSortType(1)">Alphabetical</button>
    <button onclick="changeSortType(2)">Stars</button>
    <button onclick="changeSortType(3)">Value (Low - High)</button>
    <button onclick="changeSortType(4)">Value (High - Low)</button>
    <input type="text" id="searchBar" placeholder="Search">
    <div class="horizontalAlignContainer">
        <div id="collection" class="deckBuilderTable">
            <h3>Collection</h3>
            <table id="collectionCardsTable" class="cardTable" style="height: auto;">
                <tbody></tbody>
            </table>
        </div>

        <img id="largeImage" src="/images/card_back.jpg" alt="">
       
    
        <div id="deck" class="deckBuilderTable">
            <h3>Deck</h3>
            <input type="text" id="deckName" value="<%- deck.name %>" placeholder="Name Deck">
            <table id="deckCardsTable" class="cardTable" style="height: auto;">
                <tbody></tbody>
            </table>
            <h3>Extra Deck</h3>
            <table id="extraDeckCardsTable" class="cardTable" style="height: auto;">
                <tbody></tbody>
            </table>
            <button id="testHand" type="button" onclick="drawTestHand()">Test Hand</button>
            <button id="saveDeck" type="button" onclick="saveDeck()">Save Deck</button>
            <div id="testHand" hidden="true">
                <h3 style="width: 100%;">Test Hand</h3>
                <table id="testHandCardsTable" class="cardTable" style="height: auto; width: 35.6vw;" >
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        let cardCollection = [<%- collection %>];
        let cardsList = <%- JSON.stringify(cards) %>;
        let savedDeck = [<%- deck.cards %>];
        let savedExtra = [<%- deck.extra_deck %>];
        
        deckBuilderPageSetUp();
    </script>

    
</body>